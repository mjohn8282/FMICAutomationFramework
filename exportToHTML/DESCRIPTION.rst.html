<html>
<head>
<title>DESCRIPTION.rst</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #abb2bf;}
.s1 { color: #abb2bf; font-style: italic;}
.s2 { color: #c678dd;}
.s3 { color: #98c379;}
.s4 { color: #d19a66;}
.s5 { color: #56b6c2;}
.s6 { color: #abb2bf;}
.s7 { color: #abb2bf;}
.s8 { color: #abb2bf; font-weight: bold;}
.s9 { color: #abb2bf;}
</style>
</head>
<body bgcolor="#282c34">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
DESCRIPTION.rst</font>
</center></td></tr></table>
<pre>
<span class="s0">urllib3 is a powerful, </span><span class="s1">*user-friendly* </span><span class="s0">HTTP client for Python. Much of the</span>
<span class="s0">Python ecosystem already uses urllib3 and you should too.</span>
<span class="s0">urllib3 brings many critical features that are missing from the Python</span>
<span class="s0">standard libraries:</span>

<span class="s0">- Thread safety.</span>
<span class="s0">- Connection pooling.</span>
<span class="s0">- Client-side SSL/TLS verification.</span>
<span class="s0">- File uploads with multipart encoding.</span>
<span class="s0">- Helpers for retrying requests and dealing with HTTP redirects.</span>
<span class="s0">- Support for gzip, deflate, and brotli encoding.</span>
<span class="s0">- Proxy support for HTTP and SOCKS.</span>
<span class="s0">- 100% test coverage.</span>

<span class="s0">urllib3 is powerful and easy to use:</span>

<span class="s0">.. </span><span class="s2">code-block:: </span><span class="s0">python 
</span>
    <span class="s0">&gt;&gt;&gt; </span><span class="s2">import </span><span class="s0">urllib3</span>
    <span class="s0">&gt;&gt;&gt; http = urllib3.PoolManager()</span>
    <span class="s0">&gt;&gt;&gt; r = http.request(</span><span class="s3">'GET'</span><span class="s0">, </span><span class="s3">'http://httpbin.org/robots.txt'</span><span class="s0">)</span>
    <span class="s0">&gt;&gt;&gt; r.status</span>
    <span class="s4">200</span>
    <span class="s0">&gt;&gt;&gt; r.data</span>
    <span class="s3">'User-agent: *</span><span class="s5">\n</span><span class="s3">Disallow: /deny</span><span class="s5">\n</span><span class="s3">'</span>


<span class="s5">Installing 
---------- 
</span>
<span class="s0">urllib3 can be installed with </span><span class="s3">`pip &lt;https://pip.pypa.io&gt;`_</span><span class="s0">:: 
 
    </span><span class="s6">$ python -m pip install urllib3 
 
</span><span class="s0">Alternatively, you can grab the latest source code from </span><span class="s3">`GitHub &lt;https://github.com/urllib3/urllib3&gt;`_</span><span class="s0">:: 
 
    </span><span class="s6">$ git clone git://github.com/urllib3/urllib3.git 
    $ python setup.py install 
 
 
</span><span class="s5">Documentation 
------------- 
</span>
<span class="s0">urllib3 has usage and reference documentation at </span><span class="s3">`urllib3.readthedocs.io &lt;https://urllib3.readthedocs.io&gt;`_</span><span class="s0">.</span>


<span class="s5">Contributing 
------------ 
</span>
<span class="s0">urllib3 happily accepts contributions. Please see our</span>
<span class="s3">`contributing documentation &lt;https://urllib3.readthedocs.io/en/latest/contributing.html&gt;`_</span>
<span class="s0">for some tips on getting started.</span>


<span class="s5">Security Disclosures 
-------------------- 
</span>
<span class="s0">To report a security vulnerability, please use the</span>
<span class="s3">`Tidelift security contact &lt;https://tidelift.com/security&gt;`_</span><span class="s0">.</span>
<span class="s0">Tidelift will coordinate the fix and disclosure with maintainers.</span>


<span class="s5">Maintainers 
----------- 
</span>
<span class="s0">- </span><span class="s3">`@sethmlarson &lt;https://github.com/sethmlarson&gt;`__ </span><span class="s0">(Seth M. Larson)</span>
<span class="s0">- </span><span class="s3">`@pquentin &lt;https://github.com/pquentin&gt;`__ </span><span class="s0">(Quentin Pradet)</span>
<span class="s0">- </span><span class="s3">`@theacodes &lt;https://github.com/theacodes&gt;`__ </span><span class="s0">(Thea Flowers)</span>
<span class="s0">- </span><span class="s3">`@haikuginger &lt;https://github.com/haikuginger&gt;`__ </span><span class="s0">(Jess Shapiro)</span>
<span class="s0">- </span><span class="s3">`@lukasa &lt;https://github.com/lukasa&gt;`__ </span><span class="s0">(Cory Benfield)</span>
<span class="s0">- </span><span class="s3">`@sigmavirus24 &lt;https://github.com/sigmavirus24&gt;`__ </span><span class="s0">(Ian Stapleton Cordasco)</span>
<span class="s0">- </span><span class="s3">`@shazow &lt;https://github.com/shazow&gt;`__ </span><span class="s0">(Andrey Petrov)</span>

<span class="s0">ðŸ‘‹</span>


<span class="s5">Sponsorship 
----------- 
</span>
<span class="s0">If your company benefits from this library, please consider </span><span class="s3">`sponsoring its 
development &lt;https://urllib3.readthedocs.io/en/latest/sponsors.html&gt;`_</span><span class="s0">.</span>


<span class="s5">For Enterprise 
-------------- 
</span>
<span class="s0">.. </span><span class="s2">|tideliftlogo| image:: </span><span class="s0">https://nedbatchelder.com/pix/Tidelift_Logos_RGB_Tidelift_Shorthand_On-White_small.png</span>
   <span class="s2">:width: </span><span class="s0">75</span>
   <span class="s2">:alt: </span><span class="s0">Tidelift</span>

<span class="s0">.. </span><span class="s2">list-table::</span>
   <span class="s2">:widths: </span><span class="s0">10 100</span>

   <span class="s0">* - </span><span class="s2">|tideliftlogo|</span>
     <span class="s0">- Professional support for urllib3 is available as part of the </span><span class="s3">`Tidelift 
       Subscription`_</span><span class="s0">.  Tidelift gives software development teams a single source for</span>
       <span class="s0">purchasing and maintaining their software, with professional grade assurances</span>
       <span class="s0">from the experts who know it best, while seamlessly integrating with existing</span>
       <span class="s0">tools.</span>

<span class="s0">.. </span><span class="s3">_Tidelift Subscription: https://tidelift.com/subscription/pkg/pypi-urllib3?utm_source=pypi-urllib3&amp;utm_medium=referral&amp;utm_campaign=readme</span>


<span class="s5">Changes 
======= 
</span>
<span class="s5">1.26.4 (2021-03-15) 
------------------- 
</span>
<span class="s0">* Changed behavior of the default </span><span class="s7">``SSLContext`` </span><span class="s0">when connecting to HTTPS proxy</span>
  <span class="s0">during HTTPS requests. The default </span><span class="s7">``SSLContext`` </span><span class="s0">now sets </span><span class="s7">``check_hostname=True``</span><span class="s0">.</span>


<span class="s5">1.26.3 (2021-01-26) 
------------------- 
</span>
<span class="s0">* Fixed bytes and string comparison issue with headers (Pull #2141)</span>

<span class="s0">* Changed </span><span class="s7">``ProxySchemeUnknown`` </span><span class="s0">error message to be</span>
  <span class="s0">more actionable if the user supplies a proxy URL without</span>
  <span class="s0">a scheme. (Pull #2107)</span>


<span class="s5">1.26.2 (2020-11-12) 
------------------- 
</span>
<span class="s0">* Fixed an issue where </span><span class="s7">``wrap_socket`` </span><span class="s0">and </span><span class="s7">``CERT_REQUIRED`` </span><span class="s0">wouldn't</span>
  <span class="s0">be imported properly on Python 2.7.8 and earlier (Pull #2052)</span>


<span class="s5">1.26.1 (2020-11-11) 
------------------- 
</span>
<span class="s0">* Fixed an issue where two </span><span class="s7">``User-Agent`` </span><span class="s0">headers would be sent if a</span>
  <span class="s7">``User-Agent`` </span><span class="s0">header key is passed as </span><span class="s7">``bytes`` </span><span class="s0">(Pull #2047)</span>


<span class="s5">1.26.0 (2020-11-10) 
------------------- 
</span>
<span class="s0">* </span><span class="s8">**NOTE: urllib3 v2.0 will drop support for Python 2**</span><span class="s0">.</span>
  <span class="s3">`Read more in the v2.0 Roadmap &lt;https://urllib3.readthedocs.io/en/latest/v2-roadmap.html&gt;`_</span><span class="s0">.</span>

<span class="s0">* Added support for HTTPS proxies contacting HTTPS servers (Pull #1923, Pull #1806)</span>

<span class="s0">* Deprecated negotiating TLSv1 and TLSv1.1 by default. Users that</span>
  <span class="s0">still wish to use TLS earlier than 1.2 without a deprecation warning</span>
  <span class="s0">should opt-in explicitly by setting </span><span class="s7">``ssl_version=ssl.PROTOCOL_TLSv1_1`` </span><span class="s0">(Pull #2002)</span>
  <span class="s8">**Starting in urllib3 v2.0: Connections that receive a ``DeprecationWarning`` will fail**</span>

<span class="s0">* Deprecated </span><span class="s7">``Retry`` </span><span class="s0">options </span><span class="s7">``Retry.DEFAULT_METHOD_WHITELIST``</span><span class="s0">, </span><span class="s7">``Retry.DEFAULT_REDIRECT_HEADERS_BLACKLIST``</span>
  <span class="s0">and </span><span class="s7">``Retry(method_whitelist=...)`` </span><span class="s0">in favor of </span><span class="s7">``Retry.DEFAULT_ALLOWED_METHODS``</span><span class="s0">,</span>
  <span class="s7">``Retry.DEFAULT_REMOVE_HEADERS_ON_REDIRECT``</span><span class="s0">, and </span><span class="s7">``Retry(allowed_methods=...)``</span>
  <span class="s0">(Pull #2000) </span><span class="s8">**Starting in urllib3 v2.0: Deprecated options will be removed**</span>

<span class="s0">* Added default </span><span class="s7">``User-Agent`` </span><span class="s0">header to every request (Pull #1750)</span>

<span class="s0">* Added </span><span class="s7">``urllib3.util.SKIP_HEADER`` </span><span class="s0">for skipping </span><span class="s7">``User-Agent``</span><span class="s0">, </span><span class="s7">``Accept-Encoding``</span><span class="s0">, </span>
  <span class="s0">and </span><span class="s7">``Host`` </span><span class="s0">headers from being automatically emitted with requests (Pull #2018)</span>

<span class="s0">* Collapse </span><span class="s7">``transfer-encoding: chunked`` </span><span class="s0">request data and framing into</span>
  <span class="s0">the same </span><span class="s7">``socket.send()`` </span><span class="s0">call (Pull #1906)</span>

<span class="s0">* Send </span><span class="s7">``http/1.1`` </span><span class="s0">ALPN identifier with every TLS handshake by default (Pull #1894)</span>

<span class="s0">* Properly terminate SecureTransport connections when CA verification fails (Pull #1977)</span>

<span class="s0">* Don't emit an </span><span class="s7">``SNIMissingWarning`` </span><span class="s0">when passing </span><span class="s7">``server_hostname=None``</span>
  <span class="s0">to SecureTransport (Pull #1903)</span>

<span class="s0">* Disabled requesting TLSv1.2 session tickets as they weren't being used by urllib3 (Pull #1970)</span>

<span class="s0">* Suppress </span><span class="s7">``BrokenPipeError`` </span><span class="s0">when writing request body after the server</span>
  <span class="s0">has closed the socket (Pull #1524)</span>

<span class="s0">* Wrap </span><span class="s7">``ssl.SSLError`` </span><span class="s0">that can be raised from reading a socket (e.g. &quot;bad MAC&quot;)</span>
  <span class="s0">into an </span><span class="s7">``urllib3.exceptions.SSLError`` </span><span class="s0">(Pull #1939)</span>


<span class="s5">1.25.11 (2020-10-19) 
-------------------- 
</span>
<span class="s0">* Fix retry backoff time parsed from </span><span class="s7">``Retry-After`` </span><span class="s0">header when given</span>
  <span class="s0">in the HTTP date format. The HTTP date was parsed as the local timezone</span>
  <span class="s0">rather than accounting for the timezone in the HTTP date (typically</span>
  <span class="s0">UTC) (Pull #1932, Pull #1935, Pull #1938, Pull #1949)</span>

<span class="s0">* Fix issue where an error would be raised when the </span><span class="s7">``SSLKEYLOGFILE``</span>
  <span class="s0">environment variable was set to the empty string. Now </span><span class="s7">``SSLContext.keylog_file``</span>
  <span class="s0">is not set in this situation (Pull #2016)</span>


<span class="s5">1.25.10 (2020-07-22) 
-------------------- 
</span>
<span class="s0">* Added support for </span><span class="s7">``SSLKEYLOGFILE`` </span><span class="s0">environment variable for</span>
  <span class="s0">logging TLS session keys with use with programs like</span>
  <span class="s0">Wireshark for decrypting captured web traffic (Pull #1867)</span>

<span class="s0">* Fixed loading of SecureTransport libraries on macOS Big Sur</span>
  <span class="s0">due to the new dynamic linker cache (Pull #1905)</span>

<span class="s0">* Collapse chunked request bodies data and framing into one</span>
  <span class="s0">call to </span><span class="s7">``send()`` </span><span class="s0">to reduce the number of TCP packets by 2-4x (Pull #1906)</span>

<span class="s0">* Don't insert </span><span class="s7">``None`` </span><span class="s0">into </span><span class="s7">``ConnectionPool`` </span><span class="s0">if the pool</span>
  <span class="s0">was empty when requesting a connection (Pull #1866)</span>

<span class="s0">* Avoid </span><span class="s7">``hasattr`` </span><span class="s0">call in </span><span class="s7">``BrotliDecoder.decompress()`` </span><span class="s0">(Pull #1858)</span>


<span class="s5">1.25.9 (2020-04-16) 
------------------- 
</span>
<span class="s0">* Added </span><span class="s7">``InvalidProxyConfigurationWarning`` </span><span class="s0">which is raised when</span>
  <span class="s0">erroneously specifying an HTTPS proxy URL. urllib3 doesn't currently</span>
  <span class="s0">support connecting to HTTPS proxies but will soon be able to</span>
  <span class="s0">and we would like users to migrate properly without much breakage.</span>

  <span class="s0">See </span><span class="s3">`this GitHub issue &lt;https://github.com/urllib3/urllib3/issues/1850&gt;`_</span>
  <span class="s0">for more information on how to fix your proxy config. (Pull #1851)</span>

<span class="s0">* Drain connection after </span><span class="s7">``PoolManager`` </span><span class="s0">redirect (Pull #1817)</span>

<span class="s0">* Ensure </span><span class="s7">``load_verify_locations`` </span><span class="s0">raises </span><span class="s7">``SSLError`` </span><span class="s0">for all backends (Pull #1812)</span>

<span class="s0">* Rename </span><span class="s7">``VerifiedHTTPSConnection`` </span><span class="s0">to </span><span class="s7">``HTTPSConnection`` </span><span class="s0">(Pull #1805)</span>

<span class="s0">* Allow the CA certificate data to be passed as a string (Pull #1804)</span>

<span class="s0">* Raise </span><span class="s7">``ValueError`` </span><span class="s0">if method contains control characters (Pull #1800)</span>

<span class="s0">* Add </span><span class="s7">``__repr__`` </span><span class="s0">to </span><span class="s7">``Timeout`` </span><span class="s0">(Pull #1795)</span>


<span class="s5">1.25.8 (2020-01-20) 
------------------- 
</span>
<span class="s0">* Drop support for EOL Python 3.4 (Pull #1774)</span>

<span class="s0">* Optimize _encode_invalid_chars (Pull #1787)</span>


<span class="s5">1.25.7 (2019-11-11) 
------------------- 
</span>
<span class="s0">* Preserve </span><span class="s7">``chunked`` </span><span class="s0">parameter on retries (Pull #1715, Pull #1734)</span>

<span class="s0">* Allow unset </span><span class="s7">``SERVER_SOFTWARE`` </span><span class="s0">in App Engine (Pull #1704, Issue #1470)</span>

<span class="s0">* Fix issue where URL fragment was sent within the request target. (Pull #1732)</span>

<span class="s0">* Fix issue where an empty query section in a URL would fail to parse. (Pull #1732)</span>

<span class="s0">* Remove TLS 1.3 support in SecureTransport due to Apple removing support (Pull #1703)</span>


<span class="s5">1.25.6 (2019-09-24) 
------------------- 
</span>
<span class="s0">* Fix issue where tilde (`</span><span class="s9">`~`</span><span class="s0">`) characters were incorrectly</span>
  <span class="s0">percent-encoded in the path. (Pull #1692)</span>


<span class="s5">1.25.5 (2019-09-19) 
------------------- 
</span>
<span class="s0">* Add mitigation for BPO-37428 affecting Python &lt;3.7.4 and OpenSSL 1.1.1+ which</span>
  <span class="s0">caused certificate verification to be enabled when using </span><span class="s7">``cert_reqs=CERT_NONE``</span><span class="s0">.</span>
  <span class="s0">(Issue #1682)</span>


<span class="s5">1.25.4 (2019-09-19) 
------------------- 
</span>
<span class="s0">* Propagate Retry-After header settings to subsequent retries. (Pull #1607)</span>

<span class="s0">* Fix edge case where Retry-After header was still respected even when</span>
  <span class="s0">explicitly opted out of. (Pull #1607)</span>

<span class="s0">* Remove dependency on </span><span class="s7">``rfc3986`` </span><span class="s0">for URL parsing.</span>

<span class="s0">* Fix issue where URLs containing invalid characters within </span><span class="s7">``Url.auth`` </span><span class="s0">would</span>
  <span class="s0">raise an exception instead of percent-encoding those characters.</span>

<span class="s0">* Add support for </span><span class="s7">``HTTPResponse.auto_close = False`` </span><span class="s0">which makes HTTP responses</span>
  <span class="s0">work well with BufferedReaders and other </span><span class="s7">``io`` </span><span class="s0">module features. (Pull #1652)</span>

<span class="s0">* Percent-encode invalid characters in URL for </span><span class="s7">``HTTPConnectionPool.request()`` </span><span class="s0">(Pull #1673)</span>


<span class="s5">1.25.3 (2019-05-23) 
------------------- 
</span>
<span class="s0">* Change </span><span class="s7">``HTTPSConnection`` </span><span class="s0">to load system CA certificates</span>
  <span class="s0">when </span><span class="s7">``ca_certs``</span><span class="s0">, </span><span class="s7">``ca_cert_dir``</span><span class="s0">, and </span><span class="s7">``ssl_context`` </span><span class="s0">are</span>
  <span class="s0">unspecified. (Pull #1608, Issue #1603)</span>

<span class="s0">* Upgrade bundled rfc3986 to v1.3.2. (Pull #1609, Issue #1605)</span>


<span class="s5">1.25.2 (2019-04-28) 
------------------- 
</span>
<span class="s0">* Change </span><span class="s7">``is_ipaddress`` </span><span class="s0">to not detect IPvFuture addresses. (Pull #1583)</span>

<span class="s0">* Change </span><span class="s7">``parse_url`` </span><span class="s0">to percent-encode invalid characters within the</span>
  <span class="s0">path, query, and target components. (Pull #1586)</span>


<span class="s5">1.25.1 (2019-04-24) 
------------------- 
</span>
<span class="s0">* Add support for Google's </span><span class="s7">``Brotli`` </span><span class="s0">package. (Pull #1572, Pull #1579)</span>

<span class="s0">* Upgrade bundled rfc3986 to v1.3.1 (Pull #1578)</span>


<span class="s5">1.25 (2019-04-22) 
----------------- 
</span>
<span class="s0">* Require and validate certificates by default when using HTTPS (Pull #1507)</span>

<span class="s0">* Upgraded </span><span class="s7">``urllib3.utils.parse_url()`` </span><span class="s0">to be RFC 3986 compliant. (Pull #1487)</span>

<span class="s0">* Added support for </span><span class="s7">``key_password`` </span><span class="s0">for </span><span class="s7">``HTTPSConnectionPool`` </span><span class="s0">to use</span>
  <span class="s0">encrypted </span><span class="s7">``key_file`` </span><span class="s0">without creating your own </span><span class="s7">``SSLContext`` </span><span class="s0">object. (Pull #1489)</span>

<span class="s0">* Add TLSv1.3 support to CPython, pyOpenSSL, and SecureTransport </span><span class="s7">``SSLContext``</span>
  <span class="s0">implementations. (Pull #1496)</span>

<span class="s0">* Switched the default multipart header encoder from RFC 2231 to HTML 5 working draft. (Issue #303, Pull #1492)</span>

<span class="s0">* Fixed issue where OpenSSL would block if an encrypted client private key was</span>
  <span class="s0">given and no password was given. Instead an </span><span class="s7">``SSLError`` </span><span class="s0">is raised. (Pull #1489)</span>

<span class="s0">* Added support for Brotli content encoding. It is enabled automatically if</span>
  <span class="s7">``brotlipy`` </span><span class="s0">package is installed which can be requested with</span>
  <span class="s7">``urllib3[brotli]`` </span><span class="s0">extra. (Pull #1532)</span>

<span class="s0">* Drop ciphers using DSS key exchange from default TLS cipher suites.</span>
  <span class="s0">Improve default ciphers when using SecureTransport. (Pull #1496)</span>

<span class="s0">* Implemented a more efficient </span><span class="s7">``HTTPResponse.__iter__()`` </span><span class="s0">method. (Issue #1483)</span>

<span class="s5">1.24.3 (2019-05-01) 
------------------- 
</span>
<span class="s0">* Apply fix for CVE-2019-9740. (Pull #1591)</span>

<span class="s5">1.24.2 (2019-04-17) 
------------------- 
</span>
<span class="s0">* Don't load system certificates by default when any other </span><span class="s7">``ca_certs``</span><span class="s0">, </span><span class="s7">``ca_certs_dir`` </span><span class="s0">or</span>
  <span class="s7">``ssl_context`` </span><span class="s0">parameters are specified.</span>

<span class="s0">* Remove Authorization header regardless of case when redirecting to cross-site. (Issue #1510)</span>

<span class="s0">* Add support for IPv6 addresses in subjectAltName section of certificates. (Issue #1269)</span>


<span class="s5">1.24.1 (2018-11-02) 
------------------- 
</span>
<span class="s0">* Remove quadratic behavior within </span><span class="s7">``GzipDecoder.decompress()`` </span><span class="s0">(Issue #1467)</span>

<span class="s0">* Restored functionality of </span><span class="s7">``ciphers`` </span><span class="s0">parameter for </span><span class="s7">``create_urllib3_context()``</span><span class="s0">. (Issue #1462)</span>


<span class="s5">1.24 (2018-10-16) 
----------------- 
</span>
<span class="s0">* Allow key_server_hostname to be specified when initializing a PoolManager to allow custom SNI to be overridden. (Pull #1449)</span>

<span class="s0">* Test against Python 3.7 on AppVeyor. (Pull #1453)</span>

<span class="s0">* Early-out ipv6 checks when running on App Engine. (Pull #1450)</span>

<span class="s0">* Change ambiguous description of backoff_factor (Pull #1436)</span>

<span class="s0">* Add ability to handle multiple Content-Encodings (Issue #1441 and Pull #1442)</span>

<span class="s0">* Skip DNS names that can't be idna-decoded when using pyOpenSSL (Issue #1405).</span>

<span class="s0">* Add a server_hostname parameter to HTTPSConnection which allows for</span>
  <span class="s0">overriding the SNI hostname sent in the handshake. (Pull #1397)</span>

<span class="s0">* Drop support for EOL Python 2.6 (Pull #1429 and Pull #1430)</span>

<span class="s0">* Fixed bug where responses with header Content-Type: message/* erroneously</span>
  <span class="s0">raised HeaderParsingError, resulting in a warning being logged. (Pull #1439)</span>

<span class="s0">* Move urllib3 to src/urllib3 (Pull #1409)</span>


<span class="s5">1.23 (2018-06-04) 
----------------- 
</span>
<span class="s0">* Allow providing a list of headers to strip from requests when redirecting</span>
  <span class="s0">to a different host. Defaults to the </span><span class="s7">``Authorization`` </span><span class="s0">header. Different</span>
  <span class="s0">headers can be set via </span><span class="s7">``Retry.remove_headers_on_redirect``</span><span class="s0">. (Issue #1316)</span>

<span class="s0">* Fix </span><span class="s7">``util.selectors._fileobj_to_fd`` </span><span class="s0">to accept </span><span class="s7">``long`` </span><span class="s0">(Issue #1247).</span>

<span class="s0">* Dropped Python 3.3 support. (Pull #1242)</span>

<span class="s0">* Put the connection back in the pool when calling stream() or read_chunked() on</span>
  <span class="s0">a chunked HEAD response. (Issue #1234)</span>

<span class="s0">* Fixed pyOpenSSL-specific ssl client authentication issue when clients</span>
  <span class="s0">attempted to auth via certificate + chain (Issue #1060)</span>

<span class="s0">* Add the port to the connectionpool connect print (Pull #1251)</span>

<span class="s0">* Don't use the </span><span class="s7">``uuid`` </span><span class="s0">module to create multipart data boundaries. (Pull #1380)</span>

<span class="s0">* </span><span class="s7">``read_chunked()`` </span><span class="s0">on a closed response returns no chunks. (Issue #1088)</span>

<span class="s0">* Add Python 2.6 support to </span><span class="s7">``contrib.securetransport`` </span><span class="s0">(Pull #1359)</span>

<span class="s0">* Added support for auth info in url for SOCKS proxy (Pull #1363)</span>


<span class="s5">1.22 (2017-07-20) 
----------------- 
</span>
<span class="s0">* Fixed missing brackets in </span><span class="s7">``HTTP CONNECT`` </span><span class="s0">when connecting to IPv6 address via</span>
  <span class="s0">IPv6 proxy. (Issue #1222)</span>

<span class="s0">* Made the connection pool retry on </span><span class="s7">``SSLError``</span><span class="s0">.  The original </span><span class="s7">``SSLError``</span>
  <span class="s0">is available on </span><span class="s7">``MaxRetryError.reason``</span><span class="s0">. (Issue #1112)</span>

<span class="s0">* Drain and release connection before recursing on retry/redirect.  Fixes</span>
  <span class="s0">deadlocks with a blocking connectionpool. (Issue #1167)</span>

<span class="s0">* Fixed compatibility for cookiejar. (Issue #1229)</span>

<span class="s0">* pyopenssl: Use vendored version of </span><span class="s7">``six``</span><span class="s0">. (Issue #1231)</span>


<span class="s5">1.21.1 (2017-05-02) 
------------------- 
</span>
<span class="s0">* Fixed SecureTransport issue that would cause long delays in response body</span>
  <span class="s0">delivery. (Pull #1154)</span>

<span class="s0">* Fixed regression in 1.21 that threw exceptions when users passed the</span>
  <span class="s7">``socket_options`` </span><span class="s0">flag to the </span><span class="s7">``PoolManager``</span><span class="s0">.  (Issue #1165)</span>

<span class="s0">* Fixed regression in 1.21 that threw exceptions when users passed the</span>
  <span class="s7">``assert_hostname`` </span><span class="s0">or </span><span class="s7">``assert_fingerprint`` </span><span class="s0">flag to the </span><span class="s7">``PoolManager``</span><span class="s0">.</span>
  <span class="s0">(Pull #1157)</span>


<span class="s5">1.21 (2017-04-25) 
----------------- 
</span>
<span class="s0">* Improved performance of certain selector system calls on Python 3.5 and</span>
  <span class="s0">later. (Pull #1095)</span>

<span class="s0">* Resolved issue where the PyOpenSSL backend would not wrap SysCallError</span>
  <span class="s0">exceptions appropriately when sending data. (Pull #1125)</span>

<span class="s0">* Selectors now detects a monkey-patched select module after import for modules</span>
  <span class="s0">that patch the select module like eventlet, greenlet. (Pull #1128)</span>

<span class="s0">* Reduced memory consumption when streaming zlib-compressed responses</span>
  <span class="s0">(as opposed to raw deflate streams). (Pull #1129)</span>

<span class="s0">* Connection pools now use the entire request context when constructing the</span>
  <span class="s0">pool key. (Pull #1016)</span>

<span class="s0">* </span><span class="s7">``PoolManager.connection_from_*`` </span><span class="s0">methods now accept a new keyword argument,</span>
  <span class="s7">``pool_kwargs``</span><span class="s0">, which are merged with the existing </span><span class="s7">``connection_pool_kw``</span><span class="s0">.</span>
  <span class="s0">(Pull #1016)</span>

<span class="s0">* Add retry counter for </span><span class="s7">``status_forcelist``</span><span class="s0">. (Issue #1147)</span>

<span class="s0">* Added </span><span class="s7">``contrib`` </span><span class="s0">module for using SecureTransport on macOS:</span>
  <span class="s7">``urllib3.contrib.securetransport``</span><span class="s0">.  (Pull #1122)</span>

<span class="s0">* urllib3 now only normalizes the case of </span><span class="s7">``http://`` </span><span class="s0">and </span><span class="s7">``https://`` </span><span class="s0">schemes:</span>
  <span class="s0">for schemes it does not recognise, it assumes they are case-sensitive and</span>
  <span class="s0">leaves them unchanged.</span>
  <span class="s0">(Issue #1080)</span>


<span class="s5">1.20 (2017-01-19) 
----------------- 
</span>
<span class="s0">* Added support for waiting for I/O using selectors other than select,</span>
  <span class="s0">improving urllib3's behaviour with large numbers of concurrent connections.</span>
  <span class="s0">(Pull #1001)</span>

<span class="s0">* Updated the date for the system clock check. (Issue #1005)</span>

<span class="s0">* ConnectionPools now correctly consider hostnames to be case-insensitive.</span>
  <span class="s0">(Issue #1032)</span>

<span class="s0">* Outdated versions of PyOpenSSL now cause the PyOpenSSL contrib module</span>
  <span class="s0">to fail when it is injected, rather than at first use. (Pull #1063)</span>

<span class="s0">* Outdated versions of cryptography now cause the PyOpenSSL contrib module</span>
  <span class="s0">to fail when it is injected, rather than at first use. (Issue #1044)</span>

<span class="s0">* Automatically attempt to rewind a file-like body object when a request is</span>
  <span class="s0">retried or redirected. (Pull #1039)</span>

<span class="s0">* Fix some bugs that occur when modules incautiously patch the queue module.</span>
  <span class="s0">(Pull #1061)</span>

<span class="s0">* Prevent retries from occurring on read timeouts for which the request method</span>
  <span class="s0">was not in the method whitelist. (Issue #1059)</span>

<span class="s0">* Changed the PyOpenSSL contrib module to lazily load idna to avoid</span>
  <span class="s0">unnecessarily bloating the memory of programs that don't need it. (Pull</span>
  <span class="s0">#1076)</span>

<span class="s0">* Add support for IPv6 literals with zone identifiers. (Pull #1013)</span>

<span class="s0">* Added support for socks5h:// and socks4a:// schemes when working with SOCKS</span>
  <span class="s0">proxies, and controlled remote DNS appropriately. (Issue #1035)</span>


<span class="s5">1.19.1 (2016-11-16) 
------------------- 
</span>
<span class="s0">* Fixed AppEngine import that didn't function on Python 3.5. (Pull #1025)</span>


<span class="s5">1.19 (2016-11-03) 
----------------- 
</span>
<span class="s0">* urllib3 now respects Retry-After headers on 413, 429, and 503 responses when</span>
  <span class="s0">using the default retry logic. (Pull #955)</span>

<span class="s0">* Remove markers from setup.py to assist ancient setuptools versions. (Issue</span>
  <span class="s0">#986)</span>

<span class="s0">* Disallow superscripts and other integerish things in URL ports. (Issue #989)</span>

<span class="s0">* Allow urllib3's HTTPResponse.stream() method to continue to work with</span>
  <span class="s0">non-httplib underlying FPs. (Pull #990)</span>

<span class="s0">* Empty filenames in multipart headers are now emitted as such, rather than</span>
  <span class="s0">being suppressed. (Issue #1015)</span>

<span class="s0">* Prefer user-supplied Host headers on chunked uploads. (Issue #1009)</span>


<span class="s5">1.18.1 (2016-10-27) 
------------------- 
</span>
<span class="s0">* CVE-2016-9015. Users who are using urllib3 version 1.17 or 1.18 along with</span>
  <span class="s0">PyOpenSSL injection and OpenSSL 1.1.0 </span><span class="s1">*must* </span><span class="s0">upgrade to this version. This</span>
  <span class="s0">release fixes a vulnerability whereby urllib3 in the above configuration</span>
  <span class="s0">would silently fail to validate TLS certificates due to erroneously setting</span>
  <span class="s0">invalid flags in OpenSSL's </span><span class="s7">``SSL_CTX_set_verify`` </span><span class="s0">function. These erroneous</span>
  <span class="s0">flags do not cause a problem in OpenSSL versions before 1.1.0, which</span>
  <span class="s0">interprets the presence of any flag as requesting certificate validation.</span>

  <span class="s0">There is no PR for this patch, as it was prepared for simultaneous disclosure</span>
  <span class="s0">and release. The master branch received the same fix in Pull #1010.</span>


<span class="s5">1.18 (2016-09-26) 
----------------- 
</span>
<span class="s0">* Fixed incorrect message for IncompleteRead exception. (Pull #973)</span>

<span class="s0">* Accept </span><span class="s7">``iPAddress`` </span><span class="s0">subject alternative name fields in TLS certificates.</span>
  <span class="s0">(Issue #258)</span>

<span class="s0">* Fixed consistency of </span><span class="s7">``HTTPResponse.closed`` </span><span class="s0">between Python 2 and 3.</span>
  <span class="s0">(Issue #977)</span>

<span class="s0">* Fixed handling of wildcard certificates when using PyOpenSSL. (Issue #979)</span>


<span class="s5">1.17 (2016-09-06) 
----------------- 
</span>
<span class="s0">* Accept </span><span class="s7">``SSLContext`` </span><span class="s0">objects for use in SSL/TLS negotiation. (Issue #835)</span>

<span class="s0">* ConnectionPool debug log now includes scheme, host, and port. (Issue #897)</span>

<span class="s0">* Substantially refactored documentation. (Issue #887)</span>

<span class="s0">* Used URLFetch default timeout on AppEngine, rather than hardcoding our own.</span>
  <span class="s0">(Issue #858)</span>

<span class="s0">* Normalize the scheme and host in the URL parser (Issue #833)</span>

<span class="s0">* </span><span class="s7">``HTTPResponse`` </span><span class="s0">contains the last </span><span class="s7">``Retry`` </span><span class="s0">object, which now also</span>
  <span class="s0">contains retries history. (Issue #848)</span>

<span class="s0">* Timeout can no longer be set as boolean, and must be greater than zero.</span>
  <span class="s0">(Pull #924)</span>

<span class="s0">* Removed pyasn1 and ndg-httpsclient from dependencies used for PyOpenSSL. We</span>
  <span class="s0">now use cryptography and idna, both of which are already dependencies of</span>
  <span class="s0">PyOpenSSL. (Pull #930)</span>

<span class="s0">* Fixed infinite loop in </span><span class="s7">``stream`` </span><span class="s0">when amt=None. (Issue #928)</span>

<span class="s0">* Try to use the operating system's certificates when we are using an</span>
  <span class="s7">``SSLContext``</span><span class="s0">. (Pull #941)</span>

<span class="s0">* Updated cipher suite list to allow ChaCha20+Poly1305. AES-GCM is preferred to</span>
  <span class="s0">ChaCha20, but ChaCha20 is then preferred to everything else. (Pull #947)</span>

<span class="s0">* Updated cipher suite list to remove 3DES-based cipher suites. (Pull #958)</span>

<span class="s0">* Removed the cipher suite fallback to allow HIGH ciphers. (Pull #958)</span>

<span class="s0">* Implemented </span><span class="s7">``length_remaining`` </span><span class="s0">to determine remaining content</span>
  <span class="s0">to be read. (Pull #949)</span>

<span class="s0">* Implemented </span><span class="s7">``enforce_content_length`` </span><span class="s0">to enable exceptions when</span>
  <span class="s0">incomplete data chunks are received. (Pull #949)</span>

<span class="s0">* Dropped connection start, dropped connection reset, redirect, forced retry,</span>
  <span class="s0">and new HTTPS connection log levels to DEBUG, from INFO. (Pull #967)</span>


<span class="s5">1.16 (2016-06-11) 
----------------- 
</span>
<span class="s0">* Disable IPv6 DNS when IPv6 connections are not possible. (Issue #840)</span>

<span class="s0">* Provide </span><span class="s7">``key_fn_by_scheme`` </span><span class="s0">pool keying mechanism that can be</span>
  <span class="s0">overridden. (Issue #830)</span>

<span class="s0">* Normalize scheme and host to lowercase for pool keys, and include</span>
  <span class="s7">``source_address``</span><span class="s0">. (Issue #830)</span>

<span class="s0">* Cleaner exception chain in Python 3 for </span><span class="s7">``_make_request``</span><span class="s0">.</span>
  <span class="s0">(Issue #861)</span>

<span class="s0">* Fixed installing </span><span class="s7">``urllib3[socks]`` </span><span class="s0">extra. (Issue #864)</span>

<span class="s0">* Fixed signature of </span><span class="s7">``ConnectionPool.close`` </span><span class="s0">so it can actually safely be</span>
  <span class="s0">called by subclasses. (Issue #873)</span>

<span class="s0">* Retain </span><span class="s7">``release_conn`` </span><span class="s0">state across retries. (Issues #651, #866)</span>

<span class="s0">* Add customizable </span><span class="s7">``HTTPConnectionPool.ResponseCls``</span><span class="s0">, which defaults to</span>
  <span class="s7">``HTTPResponse`` </span><span class="s0">but can be replaced with a subclass. (Issue #879)</span>


<span class="s5">1.15.1 (2016-04-11) 
------------------- 
</span>
<span class="s0">* Fix packaging to include backports module. (Issue #841)</span>


<span class="s5">1.15 (2016-04-06) 
----------------- 
</span>
<span class="s0">* Added Retry(raise_on_status=False). (Issue #720)</span>

<span class="s0">* Always use setuptools, no more distutils fallback. (Issue #785)</span>

<span class="s0">* Dropped support for Python 3.2. (Issue #786)</span>

<span class="s0">* Chunked transfer encoding when requesting with </span><span class="s7">``chunked=True``</span><span class="s0">.</span>
  <span class="s0">(Issue #790)</span>

<span class="s0">* Fixed regression with IPv6 port parsing. (Issue #801)</span>

<span class="s0">* Append SNIMissingWarning messages to allow users to specify it in</span>
  <span class="s0">the PYTHONWARNINGS environment variable. (Issue #816)</span>

<span class="s0">* Handle unicode headers in Py2. (Issue #818)</span>

<span class="s0">* Log certificate when there is a hostname mismatch. (Issue #820)</span>

<span class="s0">* Preserve order of request/response headers. (Issue #821)</span>


<span class="s5">1.14 (2015-12-29) 
----------------- 
</span>
<span class="s0">* contrib: SOCKS proxy support! (Issue #762)</span>

<span class="s0">* Fixed AppEngine handling of transfer-encoding header and bug</span>
  <span class="s0">in Timeout defaults checking. (Issue #763)</span>


<span class="s5">1.13.1 (2015-12-18) 
------------------- 
</span>
<span class="s0">* Fixed regression in IPv6 + SSL for match_hostname. (Issue #761)</span>


<span class="s5">1.13 (2015-12-14) 
----------------- 
</span>
<span class="s0">* Fixed </span><span class="s7">``pip install urllib3[secure]`` </span><span class="s0">on modern pip. (Issue #706)</span>

<span class="s0">* pyopenssl: Fixed SSL3_WRITE_PENDING error. (Issue #717)</span>

<span class="s0">* pyopenssl: Support for TLSv1.1 and TLSv1.2. (Issue #696)</span>

<span class="s0">* Close connections more defensively on exception. (Issue #734)</span>

<span class="s0">* Adjusted </span><span class="s7">``read_chunked`` </span><span class="s0">to handle gzipped, chunk-encoded bodies without</span>
  <span class="s0">repeatedly flushing the decoder, to function better on Jython. (Issue #743)</span>

<span class="s0">* Accept </span><span class="s7">``ca_cert_dir`` </span><span class="s0">for SSL-related PoolManager configuration. (Issue #758)</span>


<span class="s5">1.12 (2015-09-03) 
----------------- 
</span>
<span class="s0">* Rely on </span><span class="s7">``six`` </span><span class="s0">for importing </span><span class="s7">``httplib`` </span><span class="s0">to work around</span>
  <span class="s0">conflicts with other Python 3 shims. (Issue #688)</span>

<span class="s0">* Add support for directories of certificate authorities, as supported by</span>
  <span class="s0">OpenSSL. (Issue #701)</span>

<span class="s0">* New exception: </span><span class="s7">``NewConnectionError``</span><span class="s0">, raised when we fail to establish</span>
  <span class="s0">a new connection, usually </span><span class="s7">``ECONNREFUSED`` </span><span class="s0">socket error.</span>


<span class="s5">1.11 (2015-07-21) 
----------------- 
</span>
<span class="s0">* When </span><span class="s7">``ca_certs`` </span><span class="s0">is given, </span><span class="s7">``cert_reqs`` </span><span class="s0">defaults to</span>
  <span class="s7">``'CERT_REQUIRED'``</span><span class="s0">. (Issue #650)</span>

<span class="s0">* </span><span class="s7">``pip install urllib3[secure]`` </span><span class="s0">will install Certifi and</span>
  <span class="s0">PyOpenSSL as dependencies. (Issue #678)</span>

<span class="s0">* Made </span><span class="s7">``HTTPHeaderDict`` </span><span class="s0">usable as a </span><span class="s7">``headers`` </span><span class="s0">input value</span>
  <span class="s0">(Issues #632, #679)</span>

<span class="s0">* Added </span><span class="s3">`urllib3.contrib.appengine &lt;https://urllib3.readthedocs.io/en/latest/contrib.html#google-app-engine&gt;`_</span>
  <span class="s0">which has an </span><span class="s7">``AppEngineManager`` </span><span class="s0">for using </span><span class="s7">``URLFetch`` </span><span class="s0">in a</span>
  <span class="s0">Google AppEngine environment. (Issue #664)</span>

<span class="s0">* Dev: Added test suite for AppEngine. (Issue #631)</span>

<span class="s0">* Fix performance regression when using PyOpenSSL. (Issue #626)</span>

<span class="s0">* Passing incorrect scheme (e.g. </span><span class="s7">``foo://``</span><span class="s0">) will raise</span>
  <span class="s7">``ValueError`` </span><span class="s0">instead of </span><span class="s7">``AssertionError`` </span><span class="s0">(backwards</span>
  <span class="s0">compatible for now, but please migrate). (Issue #640)</span>

<span class="s0">* Fix pools not getting replenished when an error occurs during a</span>
  <span class="s0">request using </span><span class="s7">``release_conn=False``</span><span class="s0">. (Issue #644)</span>

<span class="s0">* Fix pool-default headers not applying for url-encoded requests</span>
  <span class="s0">like GET. (Issue #657)</span>

<span class="s0">* log.warning in Python 3 when headers are skipped due to parsing</span>
  <span class="s0">errors. (Issue #642)</span>

<span class="s0">* Close and discard connections if an error occurs during read.</span>
  <span class="s0">(Issue #660)</span>

<span class="s0">* Fix host parsing for IPv6 proxies. (Issue #668)</span>

<span class="s0">* Separate warning type SubjectAltNameWarning, now issued once</span>
  <span class="s0">per host. (Issue #671)</span>

<span class="s0">* Fix </span><span class="s7">``httplib.IncompleteRead`` </span><span class="s0">not getting converted to</span>
  <span class="s7">``ProtocolError`` </span><span class="s0">when using </span><span class="s7">``HTTPResponse.stream()``</span>
  <span class="s0">(Issue #674)</span>

<span class="s5">1.10.4 (2015-05-03) 
------------------- 
</span>
<span class="s0">* Migrate tests to Tornado 4. (Issue #594)</span>

<span class="s0">* Append default warning configuration rather than overwrite.</span>
  <span class="s0">(Issue #603)</span>

<span class="s0">* Fix streaming decoding regression. (Issue #595)</span>

<span class="s0">* Fix chunked requests losing state across keep-alive connections.</span>
  <span class="s0">(Issue #599)</span>

<span class="s0">* Fix hanging when chunked HEAD response has no body. (Issue #605)</span>


<span class="s5">1.10.3 (2015-04-21) 
------------------- 
</span>
<span class="s0">* Emit </span><span class="s7">``InsecurePlatformWarning`` </span><span class="s0">when SSLContext object is missing.</span>
  <span class="s0">(Issue #558)</span>

<span class="s0">* Fix regression of duplicate header keys being discarded.</span>
  <span class="s0">(Issue #563)</span>

<span class="s0">* </span><span class="s7">``Response.stream()`` </span><span class="s0">returns a generator for chunked responses.</span>
  <span class="s0">(Issue #560)</span>

<span class="s0">* Set upper-bound timeout when waiting for a socket in PyOpenSSL.</span>
  <span class="s0">(Issue #585)</span>

<span class="s0">* Work on platforms without </span><span class="s9">`ssl` </span><span class="s0">module for plain HTTP requests.</span>
  <span class="s0">(Issue #587)</span>

<span class="s0">* Stop relying on the stdlib's default cipher list. (Issue #588)</span>


<span class="s5">1.10.2 (2015-02-25) 
------------------- 
</span>
<span class="s0">* Fix file descriptor leakage on retries. (Issue #548)</span>

<span class="s0">* Removed RC4 from default cipher list. (Issue #551)</span>

<span class="s0">* Header performance improvements. (Issue #544)</span>

<span class="s0">* Fix PoolManager not obeying redirect retry settings. (Issue #553)</span>


<span class="s5">1.10.1 (2015-02-10) 
------------------- 
</span>
<span class="s0">* Pools can be used as context managers. (Issue #545)</span>

<span class="s0">* Don't re-use connections which experienced an SSLError. (Issue #529)</span>

<span class="s0">* Don't fail when gzip decoding an empty stream. (Issue #535)</span>

<span class="s0">* Add sha256 support for fingerprint verification. (Issue #540)</span>

<span class="s0">* Fixed handling of header values containing commas. (Issue #533)</span>


<span class="s5">1.10 (2014-12-14) 
----------------- 
</span>
<span class="s0">* Disabled SSLv3. (Issue #473)</span>

<span class="s0">* Add </span><span class="s7">``Url.url`` </span><span class="s0">property to return the composed url string. (Issue #394)</span>

<span class="s0">* Fixed PyOpenSSL + gevent </span><span class="s7">``WantWriteError``</span><span class="s0">. (Issue #412)</span>

<span class="s0">* </span><span class="s7">``MaxRetryError.reason`` </span><span class="s0">will always be an exception, not string.</span>
  <span class="s0">(Issue #481)</span>

<span class="s0">* Fixed SSL-related timeouts not being detected as timeouts. (Issue #492)</span>

<span class="s0">* Py3: Use </span><span class="s7">``ssl.create_default_context()`` </span><span class="s0">when available. (Issue #473)</span>

<span class="s0">* Emit </span><span class="s7">``InsecureRequestWarning`` </span><span class="s0">for </span><span class="s1">*every* </span><span class="s0">insecure HTTPS request.</span>
  <span class="s0">(Issue #496)</span>

<span class="s0">* Emit </span><span class="s7">``SecurityWarning`` </span><span class="s0">when certificate has no </span><span class="s7">``subjectAltName``</span><span class="s0">.</span>
  <span class="s0">(Issue #499)</span>

<span class="s0">* Close and discard sockets which experienced SSL-related errors.</span>
  <span class="s0">(Issue #501)</span>

<span class="s0">* Handle </span><span class="s7">``body`` </span><span class="s0">param in </span><span class="s7">``.request(...)``</span><span class="s0">. (Issue #513)</span>

<span class="s0">* Respect timeout with HTTPS proxy. (Issue #505)</span>

<span class="s0">* PyOpenSSL: Handle ZeroReturnError exception. (Issue #520)</span>


<span class="s5">1.9.1 (2014-09-13) 
------------------ 
</span>
<span class="s0">* Apply socket arguments before binding. (Issue #427)</span>

<span class="s0">* More careful checks if fp-like object is closed. (Issue #435)</span>

<span class="s0">* Fixed packaging issues of some development-related files not</span>
  <span class="s0">getting included. (Issue #440)</span>

<span class="s0">* Allow performing </span><span class="s1">*only* </span><span class="s0">fingerprint verification. (Issue #444)</span>

<span class="s0">* Emit </span><span class="s7">``SecurityWarning`` </span><span class="s0">if system clock is waaay off. (Issue #445)</span>

<span class="s0">* Fixed PyOpenSSL compatibility with PyPy. (Issue #450)</span>

<span class="s0">* Fixed </span><span class="s7">``BrokenPipeError`` </span><span class="s0">and </span><span class="s7">``ConnectionError`` </span><span class="s0">handling in Py3.</span>
  <span class="s0">(Issue #443)</span>



<span class="s5">1.9 (2014-07-04) 
---------------- 
</span>
<span class="s0">* Shuffled around development-related files. If you're maintaining a distro</span>
  <span class="s0">package of urllib3, you may need to tweak things. (Issue #415)</span>

<span class="s0">* Unverified HTTPS requests will trigger a warning on the first request. See</span>
  <span class="s0">our new </span><span class="s3">`security documentation 
  &lt;https://urllib3.readthedocs.io/en/latest/security.html&gt;`_ </span><span class="s0">for details.</span>
  <span class="s0">(Issue #426)</span>

<span class="s0">* New retry logic and </span><span class="s7">``urllib3.util.retry.Retry`` </span><span class="s0">configuration object.</span>
  <span class="s0">(Issue #326)</span>

<span class="s0">* All raised exceptions should now wrapped in a</span>
  <span class="s7">``urllib3.exceptions.HTTPException``</span><span class="s0">-extending exception. (Issue #326)</span>

<span class="s0">* All errors during a retry-enabled request should be wrapped in</span>
  <span class="s7">``urllib3.exceptions.MaxRetryError``</span><span class="s0">, including timeout-related exceptions</span>
  <span class="s0">which were previously exempt. Underlying error is accessible from the</span>
  <span class="s7">``.reason`` </span><span class="s0">property. (Issue #326)</span>

<span class="s0">* </span><span class="s7">``urllib3.exceptions.ConnectionError`` </span><span class="s0">renamed to</span>
  <span class="s7">``urllib3.exceptions.ProtocolError``</span><span class="s0">. (Issue #326)</span>

<span class="s0">* Errors during response read (such as IncompleteRead) are now wrapped in</span>
  <span class="s7">``urllib3.exceptions.ProtocolError``</span><span class="s0">. (Issue #418)</span>

<span class="s0">* Requesting an empty host will raise </span><span class="s7">``urllib3.exceptions.LocationValueError``</span><span class="s0">.</span>
  <span class="s0">(Issue #417)</span>

<span class="s0">* Catch read timeouts over SSL connections as</span>
  <span class="s7">``urllib3.exceptions.ReadTimeoutError``</span><span class="s0">. (Issue #419)</span>

<span class="s0">* Apply socket arguments before connecting. (Issue #427)</span>


<span class="s5">1.8.3 (2014-06-23) 
------------------ 
</span>
<span class="s0">* Fix TLS verification when using a proxy in Python 3.4.1. (Issue #385)</span>

<span class="s0">* Add </span><span class="s7">``disable_cache`` </span><span class="s0">option to </span><span class="s7">``urllib3.util.make_headers``</span><span class="s0">. (Issue #393)</span>

<span class="s0">* Wrap </span><span class="s7">``socket.timeout`` </span><span class="s0">exception with</span>
  <span class="s7">``urllib3.exceptions.ReadTimeoutError``</span><span class="s0">. (Issue #399)</span>

<span class="s0">* Fixed proxy-related bug where connections were being reused incorrectly.</span>
  <span class="s0">(Issues #366, #369)</span>

<span class="s0">* Added </span><span class="s7">``socket_options`` </span><span class="s0">keyword parameter which allows to define</span>
  <span class="s7">``setsockopt`` </span><span class="s0">configuration of new sockets. (Issue #397)</span>

<span class="s0">* Removed </span><span class="s7">``HTTPConnection.tcp_nodelay`` </span><span class="s0">in favor of</span>
  <span class="s7">``HTTPConnection.default_socket_options``</span><span class="s0">. (Issue #397)</span>

<span class="s0">* Fixed </span><span class="s7">``TypeError`` </span><span class="s0">bug in Python 2.6.4. (Issue #411)</span>


<span class="s5">1.8.2 (2014-04-17) 
------------------ 
</span>
<span class="s0">* Fix </span><span class="s7">``urllib3.util`` </span><span class="s0">not being included in the package.</span>


<span class="s5">1.8.1 (2014-04-17) 
------------------ 
</span>
<span class="s0">* Fix AppEngine bug of HTTPS requests going out as HTTP. (Issue #356)</span>

<span class="s0">* Don't install </span><span class="s7">``dummyserver`` </span><span class="s0">into </span><span class="s7">``site-packages`` </span><span class="s0">as it's only needed</span>
  <span class="s0">for the test suite. (Issue #362)</span>

<span class="s0">* Added support for specifying </span><span class="s7">``source_address``</span><span class="s0">. (Issue #352)</span>


<span class="s5">1.8 (2014-03-04) 
---------------- 
</span>
<span class="s0">* Improved url parsing in </span><span class="s7">``urllib3.util.parse_url`` </span><span class="s0">(properly parse '@' in</span>
  <span class="s0">username, and blank ports like 'hostname:').</span>

<span class="s0">* New </span><span class="s7">``urllib3.connection`` </span><span class="s0">module which contains all the HTTPConnection</span>
  <span class="s0">objects.</span>

<span class="s0">* Several </span><span class="s7">``urllib3.util.Timeout``</span><span class="s0">-related fixes. Also changed constructor</span>
  <span class="s0">signature to a more sensible order. [Backwards incompatible]</span>
  <span class="s0">(Issues #252, #262, #263)</span>

<span class="s0">* Use </span><span class="s7">``backports.ssl_match_hostname`` </span><span class="s0">if it's installed. (Issue #274)</span>

<span class="s0">* Added </span><span class="s7">``.tell()`` </span><span class="s0">method to </span><span class="s7">``urllib3.response.HTTPResponse`` </span><span class="s0">which</span>
  <span class="s0">returns the number of bytes read so far. (Issue #277)</span>

<span class="s0">* Support for platforms without threading. (Issue #289)</span>

<span class="s0">* Expand default-port comparison in </span><span class="s7">``HTTPConnectionPool.is_same_host``</span>
  <span class="s0">to allow a pool with no specified port to be considered equal to to an</span>
  <span class="s0">HTTP/HTTPS url with port 80/443 explicitly provided. (Issue #305)</span>

<span class="s0">* Improved default SSL/TLS settings to avoid vulnerabilities.</span>
  <span class="s0">(Issue #309)</span>

<span class="s0">* Fixed </span><span class="s7">``urllib3.poolmanager.ProxyManager`` </span><span class="s0">not retrying on connect errors.</span>
  <span class="s0">(Issue #310)</span>

<span class="s0">* Disable Nagle's Algorithm on the socket for non-proxies. A subset of requests</span>
  <span class="s0">will send the entire HTTP request ~200 milliseconds faster; however, some of</span>
  <span class="s0">the resulting TCP packets will be smaller. (Issue #254)</span>

<span class="s0">* Increased maximum number of SubjectAltNames in </span><span class="s7">``urllib3.contrib.pyopenssl``</span>
  <span class="s0">from the default 64 to 1024 in a single certificate. (Issue #318)</span>

<span class="s0">* Headers are now passed and stored as a custom</span>
  <span class="s7">``urllib3.collections_.HTTPHeaderDict`` </span><span class="s0">object rather than a plain </span><span class="s7">``dict``</span><span class="s0">.</span>
  <span class="s0">(Issue #329, #333)</span>

<span class="s0">* Headers no longer lose their case on Python 3. (Issue #236)</span>

<span class="s0">* </span><span class="s7">``urllib3.contrib.pyopenssl`` </span><span class="s0">now uses the operating system's default CA</span>
  <span class="s0">certificates on inject. (Issue #332)</span>

<span class="s0">* Requests with </span><span class="s7">``retries=False`` </span><span class="s0">will immediately raise any exceptions without</span>
  <span class="s0">wrapping them in </span><span class="s7">``MaxRetryError``</span><span class="s0">. (Issue #348)</span>

<span class="s0">* Fixed open socket leak with SSL-related failures. (Issue #344, #348)</span>


<span class="s5">1.7.1 (2013-09-25) 
------------------ 
</span>
<span class="s0">* Added granular timeout support with new </span><span class="s7">``urllib3.util.Timeout`` </span><span class="s0">class.</span>
  <span class="s0">(Issue #231)</span>

<span class="s0">* Fixed Python 3.4 support. (Issue #238)</span>


<span class="s5">1.7 (2013-08-14) 
---------------- 
</span>
<span class="s0">* More exceptions are now pickle-able, with tests. (Issue #174)</span>

<span class="s0">* Fixed redirecting with relative URLs in Location header. (Issue #178)</span>

<span class="s0">* Support for relative urls in </span><span class="s7">``Location: ...`` </span><span class="s0">header. (Issue #179)</span>

<span class="s0">* </span><span class="s7">``urllib3.response.HTTPResponse`` </span><span class="s0">now inherits from </span><span class="s7">``io.IOBase`` </span><span class="s0">for bonus</span>
  <span class="s0">file-like functionality. (Issue #187)</span>

<span class="s0">* Passing </span><span class="s7">``assert_hostname=False`` </span><span class="s0">when creating a HTTPSConnectionPool will</span>
  <span class="s0">skip hostname verification for SSL connections. (Issue #194)</span>

<span class="s0">* New method </span><span class="s7">``urllib3.response.HTTPResponse.stream(...)`` </span><span class="s0">which acts as a</span>
  <span class="s0">generator wrapped around </span><span class="s7">``.read(...)``</span><span class="s0">. (Issue #198)</span>

<span class="s0">* IPv6 url parsing enforces brackets around the hostname. (Issue #199)</span>

<span class="s0">* Fixed thread race condition in</span>
  <span class="s7">``urllib3.poolmanager.PoolManager.connection_from_host(...)`` </span><span class="s0">(Issue #204)</span>

<span class="s0">* </span><span class="s7">``ProxyManager`` </span><span class="s0">requests now include non-default port in </span><span class="s7">``Host: ...``</span>
  <span class="s0">header. (Issue #217)</span>

<span class="s0">* Added HTTPS proxy support in </span><span class="s7">``ProxyManager``</span><span class="s0">. (Issue #170 #139)</span>

<span class="s0">* New </span><span class="s7">``RequestField`` </span><span class="s0">object can be passed to the </span><span class="s7">``fields=...`` </span><span class="s0">param which</span>
  <span class="s0">can specify headers. (Issue #220)</span>

<span class="s0">* Raise </span><span class="s7">``urllib3.exceptions.ProxyError`` </span><span class="s0">when connecting to proxy fails.</span>
  <span class="s0">(Issue #221)</span>

<span class="s0">* Use international headers when posting file names. (Issue #119)</span>

<span class="s0">* Improved IPv6 support. (Issue #203)</span>


<span class="s5">1.6 (2013-04-25) 
---------------- 
</span>
<span class="s0">* Contrib: Optional SNI support for Py2 using PyOpenSSL. (Issue #156)</span>

<span class="s0">* </span><span class="s7">``ProxyManager`` </span><span class="s0">automatically adds </span><span class="s7">``Host: ...`` </span><span class="s0">header if not given.</span>

<span class="s0">* Improved SSL-related code. </span><span class="s7">``cert_req`` </span><span class="s0">now optionally takes a string like</span>
  <span class="s0">&quot;REQUIRED&quot; or &quot;NONE&quot;. Same with </span><span class="s7">``ssl_version`` </span><span class="s0">takes strings like &quot;SSLv23&quot;</span>
  <span class="s0">The string values reflect the suffix of the respective constant variable.</span>
  <span class="s0">(Issue #130)</span>

<span class="s0">* Vendored </span><span class="s7">``socksipy`` </span><span class="s0">now based on Anorov's fork which handles unexpectedly</span>
  <span class="s0">closed proxy connections and larger read buffers. (Issue #135)</span>

<span class="s0">* Ensure the connection is closed if no data is received, fixes connection leak</span>
  <span class="s0">on some platforms. (Issue #133)</span>

<span class="s0">* Added SNI support for SSL/TLS connections on Py32+. (Issue #89)</span>

<span class="s0">* Tests fixed to be compatible with Py26 again. (Issue #125)</span>

<span class="s0">* Added ability to choose SSL version by passing an </span><span class="s7">``ssl.PROTOCOL_*`` </span><span class="s0">constant</span>
  <span class="s0">to the </span><span class="s7">``ssl_version`` </span><span class="s0">parameter of </span><span class="s7">``HTTPSConnectionPool``</span><span class="s0">. (Issue #109)</span>

<span class="s0">* Allow an explicit content type to be specified when encoding file fields.</span>
  <span class="s0">(Issue #126)</span>

<span class="s0">* Exceptions are now pickleable, with tests. (Issue #101)</span>

<span class="s0">* Fixed default headers not getting passed in some cases. (Issue #99)</span>

<span class="s0">* Treat &quot;content-encoding&quot; header value as case-insensitive, per RFC 2616</span>
  <span class="s0">Section 3.5. (Issue #110)</span>

<span class="s0">* &quot;Connection Refused&quot; SocketErrors will get retried rather than raised.</span>
  <span class="s0">(Issue #92)</span>

<span class="s0">* Updated vendored </span><span class="s7">``six``</span><span class="s0">, no longer overrides the global </span><span class="s7">``six`` </span><span class="s0">module</span>
  <span class="s0">namespace. (Issue #113)</span>

<span class="s0">* </span><span class="s7">``urllib3.exceptions.MaxRetryError`` </span><span class="s0">contains a </span><span class="s7">``reason`` </span><span class="s0">property holding</span>
  <span class="s0">the exception that prompted the final retry. If </span><span class="s7">``reason is None`` </span><span class="s0">then it</span>
  <span class="s0">was due to a redirect. (Issue #92, #114)</span>

<span class="s0">* Fixed </span><span class="s7">``PoolManager.urlopen()`` </span><span class="s0">from not redirecting more than once.</span>
  <span class="s0">(Issue #149)</span>

<span class="s0">* Don't assume </span><span class="s7">``Content-Type: text/plain`` </span><span class="s0">for multi-part encoding parameters</span>
  <span class="s0">that are not files. (Issue #111)</span>

<span class="s0">* Pass </span><span class="s9">`strict` </span><span class="s0">param down to </span><span class="s7">``httplib.HTTPConnection``</span><span class="s0">. (Issue #122)</span>

<span class="s0">* Added mechanism to verify SSL certificates by fingerprint (md5, sha1) or</span>
  <span class="s0">against an arbitrary hostname (when connecting by IP or for misconfigured</span>
  <span class="s0">servers). (Issue #140)</span>

<span class="s0">* Streaming decompression support. (Issue #159)</span>


<span class="s5">1.5 (2012-08-02) 
---------------- 
</span>
<span class="s0">* Added </span><span class="s7">``urllib3.add_stderr_logger()`` </span><span class="s0">for quickly enabling STDERR debug</span>
  <span class="s0">logging in urllib3.</span>

<span class="s0">* Native full URL parsing (including auth, path, query, fragment) available in</span>
  <span class="s7">``urllib3.util.parse_url(url)``</span><span class="s0">.</span>

<span class="s0">* Built-in redirect will switch method to 'GET' if status code is 303.</span>
  <span class="s0">(Issue #11)</span>

<span class="s0">* </span><span class="s7">``urllib3.PoolManager`` </span><span class="s0">strips the scheme and host before sending the request</span>
  <span class="s0">uri. (Issue #8)</span>

<span class="s0">* New </span><span class="s7">``urllib3.exceptions.DecodeError`` </span><span class="s0">exception for when automatic decoding,</span>
  <span class="s0">based on the Content-Type header, fails.</span>

<span class="s0">* Fixed bug with pool depletion and leaking connections (Issue #76). Added</span>
  <span class="s0">explicit connection closing on pool eviction. Added</span>
  <span class="s7">``urllib3.PoolManager.clear()``</span><span class="s0">.</span>

<span class="s0">* 99% -&gt; 100% unit test coverage.</span>


<span class="s5">1.4 (2012-06-16) 
---------------- 
</span>
<span class="s0">* Minor AppEngine-related fixes.</span>

<span class="s0">* Switched from </span><span class="s7">``mimetools.choose_boundary`` </span><span class="s0">to </span><span class="s7">``uuid.uuid4()``</span><span class="s0">.</span>

<span class="s0">* Improved url parsing. (Issue #73)</span>

<span class="s0">* IPv6 url support. (Issue #72)</span>


<span class="s5">1.3 (2012-03-25) 
---------------- 
</span>
<span class="s0">* Removed pre-1.0 deprecated API.</span>

<span class="s0">* Refactored helpers into a </span><span class="s7">``urllib3.util`` </span><span class="s0">submodule.</span>

<span class="s0">* Fixed multipart encoding to support list-of-tuples for keys with multiple</span>
  <span class="s0">values. (Issue #48)</span>

<span class="s0">* Fixed multiple Set-Cookie headers in response not getting merged properly in</span>
  <span class="s0">Python 3. (Issue #53)</span>

<span class="s0">* AppEngine support with Py27. (Issue #61)</span>

<span class="s0">* Minor </span><span class="s7">``encode_multipart_formdata`` </span><span class="s0">fixes related to Python 3 strings vs</span>
  <span class="s0">bytes.</span>


<span class="s5">1.2.2 (2012-02-06) 
------------------ 
</span>
<span class="s0">* Fixed packaging bug of not shipping </span><span class="s7">``test-requirements.txt``</span><span class="s0">. (Issue #47)</span>


<span class="s5">1.2.1 (2012-02-05) 
------------------ 
</span>
<span class="s0">* Fixed another bug related to when </span><span class="s7">``ssl`` </span><span class="s0">module is not available. (Issue #41)</span>

<span class="s0">* Location parsing errors now raise </span><span class="s7">``urllib3.exceptions.LocationParseError``</span>
  <span class="s0">which inherits from </span><span class="s7">``ValueError``</span><span class="s0">.</span>


<span class="s5">1.2 (2012-01-29) 
---------------- 
</span>
<span class="s0">* Added Python 3 support (tested on 3.2.2)</span>

<span class="s0">* Dropped Python 2.5 support (tested on 2.6.7, 2.7.2)</span>

<span class="s0">* Use </span><span class="s7">``select.poll`` </span><span class="s0">instead of </span><span class="s7">``select.select`` </span><span class="s0">for platforms that support</span>
  <span class="s0">it.</span>

<span class="s0">* Use </span><span class="s7">``Queue.LifoQueue`` </span><span class="s0">instead of </span><span class="s7">``Queue.Queue`` </span><span class="s0">for more aggressive</span>
  <span class="s0">connection reusing. Configurable by overriding </span><span class="s7">``ConnectionPool.QueueCls``</span><span class="s0">.</span>

<span class="s0">* Fixed </span><span class="s7">``ImportError`` </span><span class="s0">during install when </span><span class="s7">``ssl`` </span><span class="s0">module is not available.</span>
  <span class="s0">(Issue #41)</span>

<span class="s0">* Fixed </span><span class="s7">``PoolManager`` </span><span class="s0">redirects between schemes (such as HTTP -&gt; HTTPS) not</span>
  <span class="s0">completing properly. (Issue #28, uncovered by Issue #10 in v1.1)</span>

<span class="s0">* Ported </span><span class="s7">``dummyserver`` </span><span class="s0">to use </span><span class="s7">``tornado`` </span><span class="s0">instead of </span><span class="s7">``webob`` </span><span class="s0">+</span>
  <span class="s7">``eventlet``</span><span class="s0">. Removed extraneous unsupported dummyserver testing backends.</span>
  <span class="s0">Added socket-level tests.</span>

<span class="s0">* More tests. Achievement Unlocked: 99% Coverage.</span>


<span class="s5">1.1 (2012-01-07) 
---------------- 
</span>
<span class="s0">* Refactored </span><span class="s7">``dummyserver`` </span><span class="s0">to its own root namespace module (used for</span>
  <span class="s0">testing).</span>

<span class="s0">* Added hostname verification for </span><span class="s7">``VerifiedHTTPSConnection`` </span><span class="s0">by vendoring in</span>
  <span class="s0">Py32's </span><span class="s7">``ssl_match_hostname``</span><span class="s0">. (Issue #25)</span>

<span class="s0">* Fixed cross-host HTTP redirects when using </span><span class="s7">``PoolManager``</span><span class="s0">. (Issue #10)</span>

<span class="s0">* Fixed </span><span class="s7">``decode_content`` </span><span class="s0">being ignored when set through </span><span class="s7">``urlopen``</span><span class="s0">. (Issue</span>
  <span class="s0">#27)</span>

<span class="s0">* Fixed timeout-related bugs. (Issues #17, #23)</span>


<span class="s5">1.0.2 (2011-11-04) 
------------------ 
</span>
<span class="s0">* Fixed typo in </span><span class="s7">``VerifiedHTTPSConnection`` </span><span class="s0">which would only present as a bug if</span>
  <span class="s0">you're using the object manually. (Thanks pyos)</span>

<span class="s0">* Made RecentlyUsedContainer (and consequently PoolManager) more thread-safe by</span>
  <span class="s0">wrapping the access log in a mutex. (Thanks @christer)</span>

<span class="s0">* Made RecentlyUsedContainer more dict-like (corrected </span><span class="s7">``__delitem__`` </span><span class="s0">and</span>
  <span class="s7">``__getitem__`` </span><span class="s0">behaviour), with tests. Shouldn't affect core urllib3 code.</span>


<span class="s5">1.0.1 (2011-10-10) 
------------------ 
</span>
<span class="s0">* Fixed a bug where the same connection would get returned into the pool twice,</span>
  <span class="s0">causing extraneous &quot;HttpConnectionPool is full&quot; log warnings.</span>


<span class="s5">1.0 (2011-10-08) 
---------------- 
</span>
<span class="s0">* Added </span><span class="s7">``PoolManager`` </span><span class="s0">with LRU expiration of connections (tested and</span>
  <span class="s0">documented).</span>
<span class="s0">* Added </span><span class="s7">``ProxyManager`` </span><span class="s0">(needs tests, docs, and confirmation that it works</span>
  <span class="s0">with HTTPS proxies).</span>
<span class="s0">* Added optional partial-read support for responses when</span>
  <span class="s7">``preload_content=False``</span><span class="s0">. You can now make requests and just read the headers</span>
  <span class="s0">without loading the content.</span>
<span class="s0">* Made response decoding optional (default on, same as before).</span>
<span class="s0">* Added optional explicit boundary string for </span><span class="s7">``encode_multipart_formdata``</span><span class="s0">.</span>
<span class="s0">* Convenience request methods are now inherited from </span><span class="s7">``RequestMethods``</span><span class="s0">. Old</span>
  <span class="s0">helpers like </span><span class="s7">``get_url`` </span><span class="s0">and </span><span class="s7">``post_url`` </span><span class="s0">should be abandoned in favour of</span>
  <span class="s0">the new </span><span class="s7">``request(method, url, ...)``</span><span class="s0">.</span>
<span class="s0">* Refactored code to be even more decoupled, reusable, and extendable.</span>
<span class="s0">* License header added to </span><span class="s7">``.py`` </span><span class="s0">files.</span>
<span class="s0">* Embiggened the documentation: Lots of Sphinx-friendly docstrings in the code</span>
  <span class="s0">and docs in </span><span class="s7">``docs/`` </span><span class="s0">and on </span><span class="s3">https://urllib3.readthedocs.io/.</span>
<span class="s0">* Embettered all the things!</span>
<span class="s0">* Started writing this file.</span>


<span class="s5">0.4.1 (2011-07-17) 
------------------ 
</span>
<span class="s0">* Minor bug fixes, code cleanup.</span>


<span class="s5">0.4 (2011-03-01) 
---------------- 
</span>
<span class="s0">* Better unicode support.</span>
<span class="s0">* Added </span><span class="s7">``VerifiedHTTPSConnection``</span><span class="s0">.</span>
<span class="s0">* Added </span><span class="s7">``NTLMConnectionPool`` </span><span class="s0">in contrib.</span>
<span class="s0">* Minor improvements.</span>


<span class="s5">0.3.1 (2010-07-13) 
------------------ 
</span>
<span class="s0">* Added </span><span class="s7">``assert_host_name`` </span><span class="s0">optional parameter. Now compatible with proxies.</span>


<span class="s5">0.3 (2009-12-10) 
---------------- 
</span>
<span class="s0">* Added HTTPS support.</span>
<span class="s0">* Minor bug fixes.</span>
<span class="s0">* Refactored, broken backwards compatibility with 0.2.</span>
<span class="s0">* API to be treated as stable from this version forward.</span>


<span class="s5">0.2 (2008-11-17) 
---------------- 
</span>
<span class="s0">* Added unit tests.</span>
<span class="s0">* Bug fixes.</span>


<span class="s5">0.1 (2008-11-16) 
---------------- 
</span>
<span class="s0">* First release.</span>


</pre>
</body>
</html>